<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ROM Store - Top Up</title>
  <link rel="icon" type="image/png" href="https://lh3.googleusercontent.com/d/1lLnjQ3NYt6Bd6WapJ2p0EjzfQJIbB-es">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #c62828;
      --secondary-color: #8e0000;
      --accent-color: #ffcdd2;
      --gold-color: #ff5252;
      --gold-dark: #c62828;
      --text-color: #f5f5f5;
      --panel-bg: rgba(142, 0, 0, 0.25);
      --panel-border: rgba(255, 82, 82, 0.3);
      --input-bg: rgba(255, 255, 255, 0.1);
      --input-border: rgba(255, 82, 82, 0.5);
      --button-primary: linear-gradient(135deg, #d32f2f, #b71c1c);
      --button-hover: linear-gradient(135deg, #b71c1c, #d32f2f);
      --button-active: linear-gradient(135deg, #8e0000, #a31515);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      transition: all 0.3s ease;
    }
    
    body {
      background-image: url('https://lh3.googleusercontent.com/d/1ECtr_z7YWp_QugVyvTQBWTiV9d88m5zS');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      font-family: 'Montserrat', sans-serif;
      color: var(--text-color);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(0,0,0,0.7) 0%, rgba(30,10,10,0.8) 100%);
      z-index: -1;
    }
    
    .container {
      width: 100%;
      max-width: 1800px;
      margin: 0 auto;
      padding: 15px;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    
    header {
      text-align: center;
      margin-bottom: 15px;
      padding: 8px;
      position: relative;
      width: 100%;
    }
    
    header h1 {
      font-family: 'Cinzel', serif;
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 5px;
      background: linear-gradient(to right, var(--gold-color), #ffffff, var(--gold-dark));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 5px 15px rgba(0,0,0,0.3);
      letter-spacing: 2px;
    }
    
    header p {
      font-size: 0.9rem;
      max-width: 700px;
      margin: 0 auto;
      color: var(--accent-color);
      font-weight: 300;
    }
    
    .cotacao-display {
      position: absolute;
      top: 8px;
      right: 15px;
      background: rgba(0,0,0,0.5);
      padding: 6px 12px;
      border-radius: 15px;
      font-size: 0.8rem;
      border: 1px solid var(--gold-color);
      box-shadow: 0 0 10px rgba(255,82,82,0.3);
      display: flex;
      align-items: center;
    }
    
    .cotacao-display .icon {
      margin-right: 6px;
      color: var(--gold-color);
    }
    
    .cotacao-display .value {
      font-weight: 600;
      color: var(--gold-color);
    }
    
    .main-content {
      display: flex;
      flex-direction: row;
      flex-wrap: nowrap;
      gap: 15px;
      width: 100%;
      flex: 1;
      min-height: 0;
      overflow: hidden;
    }
    
    .panel {
      background: var(--panel-bg);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 15px 35px rgba(0,0,0,0.3), 0 5px 15px rgba(0,0,0,0.2);
      border: 1px solid var(--panel-border);
      backdrop-filter: blur(10px);
      transform: translateY(0);
      position: relative;
      padding: 15px;
      display: flex;
      flex-direction: column;
      animation: fadeIn 0.6s ease forwards;
      flex: 1;
      min-width: 0;
      max-height: calc(100vh - 120px);
      overflow-y: auto;
    }
    
    .panel-topup {
      flex: 2.5;
    }
    
    .panel-payment {
      flex: 1;
    }
    
    .panel::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(to right, transparent, var(--gold-color), transparent);
    }
    
    .panel-header {
      position: relative;
      margin-bottom: 12px;
      text-align: center;
    }
    
    h2 {
      font-family: 'Cinzel', serif;
      font-size: 1.3rem;
      font-weight: 600;
      margin: 0;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
      color: var(--gold-color);
      position: relative;
      display: inline-block;
    }
    
    h2::after {
      content: '';
      position: absolute;
      bottom: -6px;
      left: 50%;
      transform: translateX(-50%);
      width: 30px;
      height: 2px;
      background: var(--gold-color);
    }
    
    h3 {
      font-family: 'Cinzel', serif;
      font-size: 1rem;
      font-weight: 500;
      margin: 12px 0 8px;
      color: var(--accent-color);
      text-align: center;
    }
    
    .form-group {
      margin-bottom: 12px;
      position: relative;
    }
    
    label {
      display: block;
      margin-bottom: 4px;
      font-weight: 500;
      color: var(--text-color);
      font-size: 0.85rem;
    }
    
    input[type="number"], input[type="text"] {
      width: 100%;
      padding: 8px 10px;
      background: var(--input-bg);
      color: var(--text-color);
      border: 1px solid var(--input-border);
      border-radius: 8px;
      font-family: 'Montserrat', sans-serif;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    
    input[type="number"]:focus, input[type="text"]:focus {
      outline: none;
      border-color: var(--gold-color);
      box-shadow: 0 0 0 2px rgba(255, 82, 82, 0.3), 0 4px 6px rgba(0,0,0,0.1);
    }
    
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    
    input[type="number"] {
      -moz-appearance: textfield;
    }

    .pacote-section {
      margin-bottom: 15px;
      padding: 12px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      border-left: 3px solid var(--gold-color);
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 12px;
      background: var(--button-primary);
      color: white;
      border: none;
      border-radius: 8px;
      font-family: 'Montserrat', sans-serif;
      font-size: 0.85rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      position: relative;
      overflow: hidden;
      width: 100%;
      margin-top: 8px;
    }
    
    .btn:hover {
      background: var(--button-hover);
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    
    .btn:active {
      background: var(--button-active);
      transform: translateY(0);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .btn::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
      opacity: 0;
      transform: scale(0.5);
      transition: opacity 0.3s, transform 0.3s;
    }
    
    .btn:hover::after {
      opacity: 1;
      transform: scale(1);
    }
    
    .btn svg {
      width: 14px;
      height: 14px;
      margin-right: 6px;
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(255, 82, 82, 0.4); }
      70% { box-shadow: 0 0 0 8px rgba(255, 82, 82, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255, 82, 82, 0); }
    }
    
    .payment-method {
      padding: 12px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 12px;
      border-left: 3px solid var(--gold-color);
      margin-bottom: 12px;
      position: relative;
    }
    
    .payment-method:last-child {
      margin-bottom: 0;
    }
    
    .payment-method-title {
      display: flex;
      align-items: center;
      font-size: 1rem;
      margin-bottom: 8px;
      color: var(--accent-color);
    }
    
    .payment-method-title span {
      margin-left: 8px;
    }
    
    .payment-details {
      font-size: 0.85rem;
    }
    
    .payment-details strong {
      color: var(--gold-color);
    }

    .copy-payment-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--button-primary);
      border: none;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: background 0.3s ease, transform 0.2s ease;
    }

    .copy-payment-btn:hover {
      background: var(--button-hover);
      transform: scale(1.05);
    }

    .copy-payment-btn svg {
      width: 14px;
      height: 14px;
      fill: none;
      stroke: white;
      stroke-width: 2;
    }
    
    .total-section {
      margin-top: 15px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 12px;
      border: 1px solid var(--gold-color);
    }
    
    .total-grand {
      font-size: 1.1rem;
      font-weight: 700;
      margin: 12px 0;
      text-align: center;
      color: var(--gold-color);
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
      animation: pulse 2s infinite;
    }
    
    .login-section {
      margin-top: 15px;
    }
    
    .flower {
      position: absolute;
      top: -50px;
      font-size: 20px;
      pointer-events: none;
      animation: fall linear infinite, fadeOut linear infinite;
      z-index: 100;
    }
    
    @keyframes fall {
      from { transform: translateY(0px) rotate(0deg); }
      to { transform: translateY(100vh) rotate(360deg); }
    }
    
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
    
    .tooltip {
      position: fixed;
      background: rgba(0,0,0,0.9);
      color: white;
      padding: 8px 12px;
      border-radius: 5px;
      font-size: 0.85rem;
      z-index: 1000;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    
    .particles-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }
    
    .particle {
      position: absolute;
      background: var(--gold-color);
      border-radius: 50%;
      opacity: 0.6;
      pointer-events: none;
    }
    
    .sound-control {
      position: fixed;
      bottom: 15px;
      right: 15px;
      background: rgba(0,0,0,0.7);
      padding: 8px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      border: 1px solid var(--panel-border);
    }
    
    .sound-icon {
      width: 20px;
      height: 20px;
      fill: var(--text-color);
    }
    
    .muted .sound-icon .wave { opacity: 0.3; }
    .muted .sound-icon .line { opacity: 1; }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes shimmer {
      0% { background-position: -100% 0; }
      100% { background-position: 200% 0; }
    }
    
    @media (max-width: 1200px) {
      .main-content {
        flex-direction: column;
        overflow-y: auto;
      }
      .panel {
        max-height: none;
        overflow-y: visible;
      }
      .cotacao-display {
        position: relative;
        top: auto;
        right: auto;
        margin: 8px auto;
      }
    }
    
    @media (max-width: 768px) {
      .container { padding: 8px; }
      header h1 { font-size: 1.8rem; }
      .main-content { gap: 12px; }
    }
    
    .typing-effect { position: relative; }
    
    .typing-effect::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--gold-color), transparent);
      background-size: 200% 100%;
      animation: shimmer 2s infinite;
    }
    
    .volume-slider {
      position: fixed;
      bottom: 15px;
      right: 60px;
      background: rgba(0,0,0,0.7);
      padding: 8px 12px;
      border-radius: 15px;
      z-index: 1000;
      display: flex;
      align-items: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      border: 1px solid var(--panel-border);
      transform: translateX(150px);
      opacity: 0;
      transition: transform 0.3s, opacity 0.3s;
    }
    
    .volume-slider.active {
      transform: translateX(0);
      opacity: 1;
    }
    
    .volume-slider input { width: 80px; margin: 0 8px; }
    .volume-label { color: var(--text-color); font-size: 0.75rem; margin-right: 4px; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ROM Store - Top Up</h1>
      <p>Selecione seus pacotes e preencha as informações da sua conta.</p>
      <div class="cotacao-display">
        <span class="icon">💱</span>
        <span id="cotacao">Carregando cotação...</span>
      </div>
    </header>
    
    <div class="main-content">
      <div class="panel panel-topup">
        <div class="panel-header">
          <h2>💮 Pacotes Top Up - ROM 💮</h2>
        </div>
        
        <div class="pacote-section">
          <h3>Pacotes Iniciais</h3>
          <div class="form-group">
            <label for="pacote7_70">Quantidade de Pack $7.70 (6.93 USDT):</label>
            <input type="number" id="pacote7_70" value="0" oninput="updatePacoteQuantidades('7.70', this.value);">
          </div>
          <div class="form-group">
            <label for="pacote8">Quantidade de Pack $8 (7.20 USDT):</label>
            <input type="number" id="pacote8" value="0" oninput="updatePacoteQuantidades('8', this.value);">
          </div>
          <div class="form-group">
            <label for="pacote10">Quantidade de Pack $10 (9.00 USDT):</label>
            <input type="number" id="pacote10" value="0" oninput="updatePacoteQuantidades('10', this.value);">
          </div>
        </div>

        <div class="pacote-section">
            <h3>Pacotes Intermediários</h3>
            <div class="form-group">
              <label for="pacote23">Quantidade de Pack $23 (20.70 USDT):</label>
              <input type="number" id="pacote23" value="0" oninput="updatePacoteQuantidades('23', this.value);">
            </div>
            <div class="form-group">
              <label for="pacote30">Quantidade de Pack $30 (27.00 USDT):</label>
              <input type="number" id="pacote30" value="0" oninput="updatePacoteQuantidades('30', this.value);">
            </div>
            <div class="form-group">
              <label for="pacote33">Quantidade de Pack $33 (29.70 USDT):</label>
              <input type="number" id="pacote33" value="0" oninput="updatePacoteQuantidades('33', this.value);">
            </div>
          </div>

          <div class="pacote-section">
            <h3>Pacotes Avançados</h3>
            <div class="form-group">
              <label for="pacote37">Quantidade de Pack $37 (33.30 USDT):</label>
              <input type="number" id="pacote37" value="0" oninput="updatePacoteQuantidades('37', this.value);">
            </div>
            <div class="form-group">
              <label for="pacote50">Quantidade de Pack $50 (45.00 USDT):</label>
              <input type="number" id="pacote50" value="0" oninput="updatePacoteQuantidades('50', this.value);">
            </div>
            <div class="form-group">
              <label for="pacote74">Quantidade de Pack $74 (66.60 USDT):</label>
              <input type="number" id="pacote74" value="0" oninput="updatePacoteQuantidades('74', this.value);">
            </div>
          </div>
        
        <div class="total-section">
          <div class="total-grand">
            Total Geral: R$<span id="totalRPacotes">0.00</span> / USDT <span id="totalDPacotes">0.00</span>
          </div>
        </div>
        
        <div class="login-section">
          <h3>Informações da Conta</h3>
          
          <div class="form-group">
            <label for="login">Login:</label>
            <input type="text" id="login" placeholder="Digite o login">
          </div>
          
          <div class="form-group">
            <label for="password">Password:</label>
            <input type="text" id="password" placeholder="Digite a senha">
          </div>
          
          <div class="form-group">
            <label for="nickname">Nickname:</label>
            <input type="text" id="nickname" placeholder="Digite o nickname">
          </div>
          
          <div class="form-group">
            <label for="level">Level:</label>
            <input type="text" id="level" placeholder="Digite o level">
          </div>
          
          <div class="form-group">
            <label for="server">Server:</label>
            <input type="text" id="server" placeholder="Digite o servidor">
          </div>
          
          <div class="form-group">
            <label for="metodoLogin">Método de Login:</label>
            <input type="text" id="metodoLogin" placeholder="Ex: Facebook, Google, etc.">
          </div>
        </div>
      </div>
      
      <div class="panel panel-payment">
        <div class="panel-header">
          <h2>🌸 Pagamento 🌸</h2>
        </div>
        
        <div class="payment-method">
          <div class="payment-method-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
              <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
            </svg>
            <span>Pix</span>
          </div>
          <div class="payment-details">
            <p><strong>CELULAR:</strong> <span id="pixCelular">14988231270</span></p>
            <p><strong>Nome:</strong> <span id="pixNome">DAOSHI TRADE</span></p>
          </div>
          <button class="copy-payment-btn" onclick="copyPaymentDetail('pix', event)">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
          </button>
        </div>
        
        <div class="payment-method">
          <div class="payment-method-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="2" y="6" width="20" height="12" rx="2"></rect>
              <circle cx="12" cy="12" r="2"></circle>
              <path d="M6 12h.01M18 12h.01"></path>
            </svg>
            <span>Binance</span>
          </div>
          <div class="payment-details">
            <p><strong>Email:</strong> <span id="binanceEmail">estrela203@hotmail.com</span></p>
          </div>
          <button class="copy-payment-btn" onclick="copyPaymentDetail('binance', event)">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
          </button>
        </div>
        
        <button class="btn" onclick="copySmartClipboard(event)">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
          </svg>
          Copiar Informações (Tudo)
        </button>
      </div>
    </div>
  </div>
  
  <div class="particles-container" id="particles"></div>
  <div class="tooltip" id="tooltip"></div>
  <audio id="backgroundMusic" src="audio_files/background_music.mp3" loop></audio>
  
  <div class="sound-control" id="soundControl">
    <svg class="sound-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M11 5L6 9H2v6h4l5 4V5z" fill="currentColor"/>
      <path class="wave" d="M15.54 8.46a5 5 0 0 1 0 7.07" stroke="currentColor" fill="none"/>
      <path class="wave" d="M19.07 4.93a10 10 0 0 1 0 14.14" stroke="currentColor" fill="none"/>
      <line class="line" x1="23" y1="1" x2="1" y2="23" stroke="currentColor" stroke-width="2" style="opacity: 0;"/>
    </svg>
  </div>
  
  <div class="volume-slider" id="volumeSlider">
    <span class="volume-label">Volume:</span>
    <input type="range" min="0" max="100" value="70" id="volumeRange">
  </div>
  
  <script>
    // ===================================================================
    // ============= ⚙️ ÁREA DE CONFIGURAÇÃO DE PREÇOS ⚙️ =============
    // ===================================================================
    const CONFIG = {
      defaultExchangeRate: 5.45,
      topUpPackages: {
          '7.70': { price: 6.93 },
          '8':    { price: 7.20 },
          '10':   { price: 9.00 },
          '23':   { price: 20.70 },
          '30':   { price: 27.00 },
          '33':   { price: 29.70 },
          '37':   { price: 33.30 },
          '50':   { price: 45.00 },
          '74':   { price: 66.60 }
      }
    };
    // ===================================================================
    // ============ ⚠️ FIM DA ÁREA DE CONFIGURAÇÃO ⚠️ ============
    // ===================================================================

    let audioContext, masterGainNode;
    let isMuted = false;
    let audioInitialized = false;
    let audioBuffers = {};
    let backgroundMusic;
    let exchangeRate = CONFIG.defaultExchangeRate;
    
    let pacoteQuantidades = {
        '7.70': 0, '8': 0, '10': 0, '23': 0, '30': 0,
        '33': 0, '37': 0, '50': 0, '74': 0
    };

    window.onload = function() {
      initAudio();
      updatePacoteTotals();
      
      document.querySelectorAll('input[type="number"]').forEach(input => {
        input.addEventListener('focus', function() { if (this.value === '0') this.value = ''; });
        input.addEventListener('blur', function() { if (this.value === '') this.value = '0'; });
      });
      
      initParticles();
      setInterval(createFlower, Math.random() * 2000 + 1000);
      setupSoundControls();
      setupButtonEffects();
      atualizarCotacaoDolar();
      
      document.body.addEventListener("click", tryStartAudio, { once: true });
      document.body.addEventListener("keydown", tryStartAudio, { once: true });
    };

    function tryStartAudio() {
      if (!audioInitialized) initAudio();
      else if (backgroundMusic && backgroundMusic.paused) {
        backgroundMusic.play().catch(e => console.log("Erro ao tocar música:", e));
      }
    }
    
    async function initAudio() {
      try {
        if (audioInitialized) return;
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        masterGainNode = audioContext.createGain();
        masterGainNode.gain.value = 0.7;
        masterGainNode.connect(audioContext.destination);
        
        backgroundMusic = document.getElementById("backgroundMusic");
        backgroundMusic.volume = 0.5;
        
        await Promise.all([
          loadSound("click", "/audio_files/click.mp3"),
          loadSound("hover", "/audio_files/hover.mp3"),
          loadSound("success", "/audio_files/success.mp3"),
          loadSound("type", "/audio_files/type.mp3")
        ]);
        
        audioInitialized = true;
        isMuted = false;
        setupAudioEvents();
        backgroundMusic.play().catch(e => console.log("Autoplay bloqueado."));
        document.getElementById("soundControl").classList.remove("muted");
      } catch (error) { console.error("Erro ao inicializar áudio:", error); }
    }
    
    async function loadSound(name, url) {
      return new Promise((resolve) => {
        audioBuffers[name] = { name };
        setTimeout(resolve, 100);
      });
    }
    
    function playSound(name) {
      if (!audioInitialized || isMuted) return;
      try {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        switch(name) {
          case "click": oscillator.type = "triangle"; oscillator.frequency.value = 800; gainNode.gain.value = 0.1; break;
          case "hover": oscillator.type = "sine"; oscillator.frequency.value = 600; gainNode.gain.value = 0.05; break;
          case "success": oscillator.type = "sine"; oscillator.frequency.value = 1200; gainNode.gain.value = 0.1; break;
          case "type": oscillator.type = "sine"; oscillator.frequency.value = 440 + Math.random() * 100; gainNode.gain.value = 0.03; break;
          default: oscillator.frequency.value = 440; gainNode.gain.value = 0.1;
        }
        oscillator.connect(gainNode);
        gainNode.connect(masterGainNode);
        oscillator.start();
        const duration = name === "success" ? 0.3 : 0.1;
        gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + duration);
        setTimeout(() => oscillator.stop(), duration * 1000);
      } catch (error) { console.error("Erro ao tocar som:", error); }
    }
    
    function setupSoundControls() {
      const soundControl = document.getElementById("soundControl");
      const volumeSlider = document.getElementById("volumeSlider");
      const volumeRange = document.getElementById("volumeRange");
      
      soundControl.addEventListener("click", function() {
        if (!audioInitialized) initAudio();
        else {
          toggleMute();
          this.classList.toggle("muted", isMuted);
          playSound("click");
        }
      });
      
      soundControl.addEventListener("mouseenter", () => volumeSlider.classList.add("active"));
      volumeSlider.addEventListener("mouseleave", () => volumeSlider.classList.remove("active"));
      
      volumeRange.addEventListener("input", function() {
        if (audioInitialized) {
          const volumeLevel = this.value / 100;
          masterGainNode.gain.value = volumeLevel;
          if (backgroundMusic) backgroundMusic.volume = volumeLevel * 0.7;
          playSound("hover");
        }
      });
      
      if (audioInitialized) {
        const initialVolume = volumeRange.value / 100;
        masterGainNode.gain.value = initialVolume;
        if (backgroundMusic) backgroundMusic.volume = initialVolume * 0.7;
      }
    }
    
    function toggleMute() {
      isMuted = !isMuted;
      if (audioInitialized) {
        const currentVolume = document.getElementById("volumeRange").value / 100;
        masterGainNode.gain.value = isMuted ? 0 : currentVolume;
        if (backgroundMusic) backgroundMusic.muted = isMuted;
      }
    }
    
    function setupAudioEvents() {
      document.querySelectorAll("input").forEach(input => input.addEventListener("keydown", () => playSound("type")));
      document.querySelectorAll("button").forEach(button => {
        button.addEventListener("click", () => playSound("click"));
        button.addEventListener("mouseenter", () => playSound("hover"));
      });
    }
    
    function setupButtonEffects() {
      document.querySelectorAll(".btn").forEach(button => {
        button.addEventListener("mouseenter", function() { this.style.transform = "translateY(-2px)"; });
        button.addEventListener("mouseleave", function() { this.style.transform = "translateY(0)"; });
        button.addEventListener("mousedown", function() { this.style.transform = "translateY(1px)"; });
        button.addEventListener("mouseup", function() { this.style.transform = "translateY(-2px)"; });
      });
    }
    
    function initParticles() {
      const container = document.getElementById("particles");
      for (let i = 0; i < 50; i++) createParticle(container);
    }
    
    function createParticle(container) {
      const particle = document.createElement("div");
      particle.classList.add("particle");
      const size = Math.random() * 4 + 1;
      particle.style.width = `${size}px`;
      particle.style.height = `${size}px`;
      particle.style.left = `${Math.random() * 100}vw`;
      particle.style.top = `${Math.random() * 100}vh`;
      particle.style.opacity = Math.random() * 0.5 + 0.1;
      container.appendChild(particle);
      setInterval(() => {
        particle.style.transform = `translate(${(Math.random() - 0.5) * 20}px, ${(Math.random() - 0.5) * 20}px)`;
      }, 3000);
    }
    
    function createFlower() {
      const flowers = ["🌸", "🌺", "🌹", "🍁"];
      const flower = document.createElement("div");
      flower.classList.add("flower");
      flower.innerText = flowers[Math.floor(Math.random() * flowers.length)];
      flower.style.left = Math.random() * 100 + "vw";
      flower.style.transform = `rotate(${Math.random() * 360}deg)`;
      const duration = Math.random() * 5 + 3;
      flower.style.animationDuration = `${duration}s, ${duration}s`;
      document.body.appendChild(flower);
      setTimeout(() => flower.remove(), duration * 1000);
    }
    
    function showTooltip(message, x, y) {
      const tooltip = document.getElementById("tooltip");
      tooltip.textContent = message;
      tooltip.style.left = `${x}px`;
      tooltip.style.top = `${y}px`;
      tooltip.style.opacity = "1";
      setTimeout(() => { tooltip.style.opacity = "0"; }, 2000);
    }
    
    function updatePacoteQuantidades(pacote, quantidade) {
      pacoteQuantidades[pacote] = parseInt(quantidade) || 0;
      updatePacoteTotals();
      const input = document.getElementById(`pacote${pacote.replace('.','_')}`);
      if (input) {
        input.classList.add("typing-effect");
        setTimeout(() => input.classList.remove("typing-effect"), 1000);
      }
      playSound("type");
    }

    function updatePacoteTotals() {
      let totalD = 0;
      for (const pacote in pacoteQuantidades) {
          if (pacoteQuantidades.hasOwnProperty(pacote)) {
              const quantidade = pacoteQuantidades[pacote];
              if (quantidade > 0 && CONFIG.topUpPackages[pacote]) {
                  const preco = CONFIG.topUpPackages[pacote].price;
                  totalD += quantidade * preco;
              }
          }
      }
      const totalR = totalD * exchangeRate;
      animateCounter('totalRPacotes', totalR.toFixed(2));
      animateCounter('totalDPacotes', totalD.toFixed(2));
    }
    
    function copyContent(textToCopy, message, event = null) {
      navigator.clipboard.writeText(textToCopy).then(() => {
        let x = 0, y = 0;
        if (event) {
          const rect = event.target.getBoundingClientRect();
          x = rect.left + rect.width / 2;
          y = rect.top - 30;
        }
        showTooltip(message, x, y);
        playSound("success");
      }).catch(err => {
        console.error('Falha ao copiar: ', err);
      });
    }

    function copySmartClipboard(event) {
      let texto = '';
      let hasTopUp = false;
      let pacotesTexto = '';
      let totalPacotesR = 0;
      let totalPacotesD = 0;
      
      Object.keys(pacoteQuantidades).forEach(pacote => {
        if (pacoteQuantidades[pacote] > 0) {
          hasTopUp = true;
          const precoD = CONFIG.topUpPackages[pacote].price;
          const subtotalD = pacoteQuantidades[pacote] * precoD;
          const subtotalR = subtotalD * exchangeRate;
          pacotesTexto += `    Pack de $${pacote}: ${pacoteQuantidades[pacote]} (Total R$${subtotalR.toFixed(2)})\n`;
          totalPacotesR += subtotalR;
          totalPacotesD += subtotalD;
        }
      });
      
      if (!hasTopUp) {
        showTooltip("Selecione pelo menos um pacote!", event ? event.clientX : 0, event ? event.clientY : 0);
        return;
      }
      
      texto += '    -----------------------------\n';
      texto += '    💮 TOP UP ROM 💮\n';
      texto += '    Pacotes Selecionados:\n';
      texto += pacotesTexto;
      texto += '    -----------------------------\n';
      texto += `    Total dos Pacotes:\n    Total em R$: ${totalPacotesR.toFixed(2)}\n    Total em USDT: ${totalPacotesD.toFixed(2)}\n`;
      texto += '    -----------------------------\n';
      
      let login = document.getElementById('login').value, password = document.getElementById('password').value, nickname = document.getElementById('nickname').value, level = document.getElementById('level').value, server = document.getElementById('server').value, metodoLogin = document.getElementById('metodoLogin').value;
      if (login || password || nickname || level || server || metodoLogin) {
        texto += '\n    Informações da Conta:\n';
        if (login) texto += `    Login: ${login}\n`;
        if (password) texto += `    Password: ${password}\n`;
        if (nickname) texto += `    Nickname: ${nickname}\n`;
        if (level) texto += `    Level: ${level}\n`;
        if (server) texto += `    Server: ${server}\n`;
        if (metodoLogin) texto += `    Método de Login: ${metodoLogin}\n`;
        texto += '    -----------------------------\n';
      }
      
      texto += '\n    🌸 INFORMAÇÕES DE PAGAMENTO 🌸\n';
      texto += '    PIX: 14988231270\n';
      texto += '    Nome: DAOSHI TRADE\n';
      texto += '    Binance: estrela203@hotmail.com\n';
      texto += '    -----------------------------\n';
      
      copyContent(texto, "Informações copiadas!", event);
    }

    function copyPaymentDetail(method, event) {
        let textToCopy = '', message = '';
        if (method === 'pix') {
          textToCopy = document.getElementById('pixCelular').innerText;
          message = 'Chave Pix copiada!';
        } else if (method === 'binance') {
          textToCopy = document.getElementById('binanceEmail').innerText;
          message = 'Email da Binance copiado!';
        }
        copyContent(textToCopy, message, event);
    }
    
    function animateCounter(elementId, finalValue) {
      const element = document.getElementById(elementId);
      if (!element) return;
      const startValue = parseFloat(element.textContent) || 0;
      const finalValueNum = parseFloat(finalValue);
      const duration = 500, steps = 20;
      const increment = (finalValueNum - startValue) / steps;
      let currentStep = 0;
      if (element.intervalId) clearInterval(element.intervalId);
      element.intervalId = setInterval(() => {
        currentStep++;
        const currentValue = startValue + (increment * currentStep);
        element.textContent = currentValue.toFixed(2);
        if (currentStep >= steps) {
          clearInterval(element.intervalId);
          element.textContent = finalValue;
          element.intervalId = null;
        }
      }, duration / steps);
    }

    async function atualizarCotacaoDolar() {
      try {
        const response = await fetch('https://api.binance.com/api/v3/ticker/price?symbol=USDTBRL');
        if(!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
        const data = await response.json();
        exchangeRate = parseFloat(data.price);
        document.getElementById('cotacao').innerHTML = `Cotação USDT/BRL: <span class="value">R$${exchangeRate.toFixed(2)}</span>`;
        updatePacoteTotals();
      } catch (error) {
        document.getElementById('cotacao').innerHTML = `Cotação USDT/BRL: <span class="value">R$${exchangeRate.toFixed(2)}</span> (Padrão)`;
        console.error('Erro ao buscar cotação, usando valor padrão:', error);
        updatePacoteTotals();
      }
    }
  </script>
</body>
</html>